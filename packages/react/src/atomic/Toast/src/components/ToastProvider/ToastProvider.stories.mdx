import { Canvas, Meta, Story, Preview } from "@storybook/addon-docs";
import { Button } from "@nimbus-ds/button";

import { useToast } from "../../hooks";
import { ToastProvider } from "./ToastProvider";

<Meta
  title="Atomic/Toast"
  component={ToastProvider}
  decorators={[
    (Story) => (
      <ToastProvider>
        <Story />
      </ToastProvider>
    ),
  ]}
/>

# ToastProvider

<Preview>
  <Story name="Provider" parameters={{ docs: { source: { code: null } } }}>
    {() => {
      const { addToast } = useToast();
      return (
        <div style={{ display: "flex", gap: "0.5rem" }}>
          <Button
            appearance="primary"
            onClick={() => {
              addToast({
                type: "primary",
                text: "Toast primary",
              });
            }}
          >
            Primary
          </Button>
          <Button
            onClick={() =>
              addToast({
                type: "success",
                text: "Toast success",
              })
            }
          >
            Success
          </Button>
          <Button
            appearance="danger"
            onClick={() =>
              addToast({
                type: "danger",
                text: "Toast danger",
              })
            }
          >
            Danger
          </Button>
          <Button
            onClick={() =>
              addToast({
                type: "progress",
                text: "Toast progress",
              })
            }
          >
            Progress
          </Button>
        </div>
      );
    }}
  </Story>
</Preview>

# Basic usage

```jsx
// App.tsx
import React from "react";
import Home from "home";
import "@nimbus-ds/styles/dist/index.css";

const App: React.FC = () => {
  const { addToast } = useToast();
    return (
      <ToastProvider>
        <Home />
      </ToastProvider>;
    );
};

// Home.tsx
import React from "react";
import { ToastProvider } from "@nimbus-ds/toast";

const Home: React.FC = () => {
  const { addToast } = useToast();
    return (
      <button
        onClick={() => {
          addToast({
            type: "primary",
            text: "Toast",
            duration: 4000,
          });
        }}
      >
        Toast
      </button>
    );
};
```

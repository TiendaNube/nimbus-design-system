"use strict";(self.webpackChunknimbus_design_system=self.webpackChunknimbus_design_system||[]).push([[1566],{"./packages/react/src/composite/TimePicker/src/timePicker.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,basic:()=>basic,controlled:()=>controlled,customStep:()=>customStep,customStepDropdown:()=>customStepDropdown,default:()=>timePicker_stories,disabled:()=>disabled,dropdownMode:()=>dropdownMode,dropdownMode12h:()=>dropdownMode12h,format12h:()=>format12h,playground:()=>playground,withDateValue:()=>withDateValue,withValue:()=>withValue});var react=__webpack_require__("./node_modules/react/index.js"),Box=__webpack_require__("./packages/react/src/atomic/Box/src/Box.tsx"),Text=__webpack_require__("./packages/react/src/atomic/Text/src/Text.tsx"),floating_ui_react=__webpack_require__("./packages/react/src/composite/TimePicker/node_modules/@floating-ui/react/dist/floating-ui.react.mjs"),floating_ui_react_dom=__webpack_require__("./node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs"),floating_ui_dom=__webpack_require__("./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs"),nimbus_timePicker_css=__webpack_require__("./packages/core/styles/src/packages/composite/time-picker/nimbus-timePicker.css.ts"),Input=__webpack_require__("./packages/react/src/atomic/Input/src/Input.tsx"),Icon=__webpack_require__("./packages/react/src/atomic/Icon/src/Icon.tsx"),dist=__webpack_require__("./packages/icons/dist/index.js");function to24Hour(hours,ampm){return ampm?"PM"===ampm?hours%12+12:hours%12:hours}function to12Hour(hours24){return{hours:hours24%12||12,ampm:hours24>=12?"PM":"AM"}}function padZero(num){return num.toString().padStart(2,"0")}function useTimePickerState({value,format,step}){const[internalValue,setInternalValue]=(0,react.useState)(null),initialValue=(0,react.useMemo)((()=>function parseTimeString(value,format){if(!value)return null;if(value instanceof Date){const hours24=value.getHours(),minutes=value.getMinutes();if("12h"===format){const{hours,ampm}=to12Hour(hours24);return{hours,minutes,ampm}}return{hours:hours24,minutes}}const trimmed=value.trim().toUpperCase(),match12h=/^(\d{1,2}):(\d{2})\s*(AM|PM)$/i.exec(trimmed),match24h=/^(\d{1,2}):(\d{2})$/.exec(trimmed);if(match12h){const hours=parseInt(match12h[1],10),minutes=parseInt(match12h[2],10),ampm=match12h[3].toUpperCase();if(hours>=1&&hours<=12&&minutes>=0&&minutes<=59)return"12h"===format?{hours,minutes,ampm}:{hours:to24Hour(hours,ampm),minutes}}if(match24h){const hours=parseInt(match24h[1],10),minutes=parseInt(match24h[2],10);if(hours>=0&&hours<=23&&minutes>=0&&minutes<=59){if("24h"===format)return{hours,minutes};const{hours:hours12,ampm}=to12Hour(hours);return{hours:hours12,minutes,ampm}}}return null}(value,format)),[value,format]),setHours=(0,react.useCallback)((hours=>{setInternalValue((prev=>({...prev,hours})))}),[setInternalValue]),setMinutes=(0,react.useCallback)((minutes=>{setInternalValue((prev=>({...prev,minutes})))}),[setInternalValue]),setAmPm=(0,react.useCallback)((ampm=>{"12h"===format&&setInternalValue((prev=>({...prev,ampm})))}),[format,setInternalValue]),selectTime=(0,react.useCallback)(((hours,minutes)=>{setInternalValue((prev=>({...prev,hours,minutes})))}),[setInternalValue]),clear=(0,react.useCallback)((()=>{setInternalValue(null)}),[setInternalValue]),hourOptions=(0,react.useMemo)((()=>"12h"===format?[12,...Array.from({length:11},((_,i)=>i+1))]:Array.from({length:24},((_,i)=>i))),[format]),minuteOptions=(0,react.useMemo)((()=>Array.from({length:Math.ceil(60/step)},((_,i)=>i*step)).filter((minute=>minute<60))),[step]),dropdownOptions=(0,react.useMemo)((()=>hourOptions.flatMap((h=>minuteOptions.map((m=>({value:`${padZero(h)}:${padZero(m)}`,hours:h,minutes:m})))))),[hourOptions,minuteOptions]),displayValue=(0,react.useMemo)((()=>function formatTimeValue(timeValue,format){if(!timeValue)return"";const formatted=`${padZero(timeValue.hours)}:${padZero(timeValue.minutes)}`;return"12h"===format?`${formatted} ${timeValue.ampm||"AM"}`:formatted}(initialValue,format)),[initialValue,format]);return{initialValue,timeValue:internalValue,displayValue,setHours,setMinutes,setAmPm,selectTime,clear,hourOptions,minuteOptions,dropdownOptions}}var ScrollPane=__webpack_require__("./packages/react/src/composite/ScrollPane/src/ScrollPane.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const{classnames}=nimbus_timePicker_css.Y,TimePickerOption=(0,react.forwardRef)((({selected,current,disabled,children,onSelect,onClick,onKeyDown,role="option",...rest},ref)=>{const handleClick=(0,react.useCallback)((event=>{disabled||(onSelect?.(),onClick?.(event))}),[disabled,onClick,onSelect]),handleKeyDown=(0,react.useCallback)((event=>{onKeyDown?.(event),event.defaultPrevented||disabled||"Enter"!==event.key&&" "!==event.key||(event.preventDefault(),onSelect?.())}),[disabled,onSelect,onKeyDown]);let state="default";disabled?state="disabled":selected?state="selected":current&&(state="current");const ariaProps="radio"===role?{"aria-checked":selected}:{"aria-selected":selected};return(0,jsx_runtime.jsx)("button",{ref,type:"button",role,...ariaProps,"aria-disabled":disabled,disabled,className:classnames.optionState[state],onClick:handleClick,onKeyDown:handleKeyDown,...rest,children})}));TimePickerOption.displayName="TimePickerOption",TimePickerOption.__docgenInfo={description:"TimePickerOption is a single selectable time option in dropdown mode.",methods:[],displayName:"TimePickerOption",props:{role:{defaultValue:{value:'"option"',computed:!1},required:!1}}};const{classnames:TimePickerColumn_classnames}=nimbus_timePicker_css.Y,TimePickerColumn=({type,label,...rest})=>{const isCombined="combined"===type,optionRefs=(0,react.useRef)(new Map),currentValueRef=(0,react.useRef)(null),wrapperRef=(0,react.useRef)(null),normalizedOptions=(0,react.useMemo)((()=>{if(isCombined){const props=rest;return function buildCombinedOptions(options,currentValue,selectedValue,onSelectTime){return options.map((option=>({key:option.value,displayValue:option.value,isCurrent:option.value===currentValue,isSelected:option.value===selectedValue,onSelect:()=>onSelectTime(option.hours,option.minutes)})))}(props.options,props.currentValue,props.selectedValue,props.onSelectTime)}const props=rest;return function buildSingleOptions(options,value,selected,onSelect){return options.map((itemValue=>({key:itemValue,displayValue:padZero(itemValue),isCurrent:itemValue===value,isSelected:itemValue===selected,onSelect:()=>onSelect(itemValue)})))}(props.options,props.value,props.selected,props.onSelect)}),[rest,isCombined]),hasCurrentValue=normalizedOptions.some((opt=>opt.isCurrent));(0,react.useEffect)((()=>{currentValueRef.current&&currentValueRef.current.scrollIntoView({block:"center",behavior:"instant"})}),[]);const onTabNext=isCombined?void 0:rest.onTabNext,onTabPrev=isCombined?void 0:rest.onTabPrev,handleKeyDown=(0,react.useCallback)(((event,index)=>{!function handleColumnKeyDown({event,currentIndex,totalOptions,optionRefs,onTabNext,onTabPrev}){switch(event.key){case"ArrowUp":{event.preventDefault();const prevIndex=(currentIndex-1+totalOptions)%totalOptions;optionRefs.current?.get(prevIndex)?.focus();break}case"ArrowDown":{event.preventDefault();const nextIndex=(currentIndex+1)%totalOptions;optionRefs.current?.get(nextIndex)?.focus();break}case"Tab":event.shiftKey&&onTabPrev?(event.preventDefault(),onTabPrev()):!event.shiftKey&&onTabNext&&(event.preventDefault(),onTabNext())}}({event,currentIndex:index,totalOptions:normalizedOptions.length,optionRefs,onTabNext,onTabPrev})}),[normalizedOptions.length,onTabNext,onTabPrev]),scrollContainerRef=isCombined?rest.scrollContainerRef:void 0,listClassName=isCombined?TimePickerColumn_classnames.dropdownList:TimePickerColumn_classnames.column,ariaLabel=label||(isCombined?void 0:type);return(0,jsx_runtime.jsx)("div",{className:TimePickerColumn_classnames.columnWrapper,ref:wrapperRef,children:(0,jsx_runtime.jsx)(ScrollPane.G,{direction:"vertical",showGradients:!isCombined,showScrollbar:!1,scrollToItemOnClick:!0,scrollBehavior:"always",contentContainerProps:{display:"flex",flexDirection:"column",margin:"none"},scrollContainerRef,children:(0,jsx_runtime.jsx)("div",{className:listClassName,role:"listbox","aria-label":ariaLabel,children:normalizedOptions.map(((option,index)=>{const isFirst=!hasCurrentValue&&0===index;return(0,jsx_runtime.jsx)(ScrollPane.G.Item,{children:(0,jsx_runtime.jsx)("div",{className:TimePickerColumn_classnames.scrollPaneItemWrapper,children:(0,jsx_runtime.jsx)(TimePickerOption,{ref:el=>{el?optionRefs.current.set(index,el):optionRefs.current.delete(index),option.isCurrent&&(currentValueRef.current=el)},selected:option.isSelected,current:option.isCurrent,onSelect:option.onSelect,onKeyDown:e=>handleKeyDown(e,index),tabIndex:option.isCurrent||isFirst?0:-1,children:option.displayValue})})},option.key)}))})})})};TimePickerColumn.displayName="TimePickerColumn",TimePickerColumn.__docgenInfo={description:'TimePickerColumn renders a scrollable column of time values.\nFor type "hours" or "minutes": Uses ScrollPane with gradients for wheel-style selection.\nFor type "combined": Renders a flat scrollable list of full time options.',methods:[],displayName:"TimePickerColumn"};const{classnames:TimePickerAmPm_classnames}=nimbus_timePicker_css.Y,TimePickerAmPm=({current,selected,onSelect,disabled,amLabel="AM",pmLabel="PM",selectorLabel="AM/PM selector",onTabPrev})=>{const amButtonRef=(0,react.useRef)(null),pmButtonRef=(0,react.useRef)(null),pendingFocusRef=(0,react.useRef)(null);(0,react.useEffect)((()=>{if(pendingFocusRef.current){const targetRef="AM"===pendingFocusRef.current?amButtonRef:pmButtonRef;targetRef.current?.focus(),pendingFocusRef.current=null}}),[current]);const handleSelect=(0,react.useCallback)((ampm=>{disabled||ampm===selected||onSelect(ampm)}),[disabled,selected,onSelect]),handleKeyDown=(0,react.useCallback)(((event,currentAmPm)=>{if(!disabled){if("ArrowUp"===event.key||"ArrowDown"===event.key){event.preventDefault();"AM"===("AM"===currentAmPm?"PM":"AM")?amButtonRef.current?.focus():pmButtonRef.current?.focus()}"Tab"===event.key&&event.shiftKey&&onTabPrev&&(event.preventDefault(),onTabPrev())}}),[disabled,onTabPrev]);return(0,jsx_runtime.jsxs)("div",{className:TimePickerAmPm_classnames.ampmContainer,role:"radiogroup","aria-label":selectorLabel,children:[(0,jsx_runtime.jsx)(TimePickerOption,{ref:amButtonRef,role:"radio",selected:"AM"===selected,current:"AM"===current,disabled,onSelect:()=>handleSelect("AM"),onKeyDown:e=>handleKeyDown(e,"AM"),tabIndex:"AM"===selected?0:-1,children:amLabel}),(0,jsx_runtime.jsx)(TimePickerOption,{ref:pmButtonRef,role:"radio",selected:"PM"===selected,current:"PM"===current,disabled,onSelect:()=>handleSelect("PM"),onKeyDown:e=>handleKeyDown(e,"PM"),tabIndex:"PM"===selected?0:-1,children:pmLabel})]})};function focusColumnOption(columnRef){const currentOption=columnRef.current?.querySelector('button[tabindex="0"]');if(currentOption)return void currentOption.focus();const fallbackOption=columnRef.current?.querySelector("button");fallbackOption?.focus()}TimePickerAmPm.displayName="TimePickerAmPm",TimePickerAmPm.__docgenInfo={description:"TimePickerAmPm renders the AM/PM toggle buttons for 12-hour format.\nImplements the roving tabindex pattern for radio group keyboard navigation.",methods:[],displayName:"TimePickerAmPm",props:{current:{required:!1,tsType:{name:"union",raw:'"AM" | "PM"',elements:[{name:"literal",value:'"AM"'},{name:"literal",value:'"PM"'}]},description:"Currently selected AM/PM value."},selected:{required:!1,tsType:{name:"union",raw:'"AM" | "PM"',elements:[{name:"literal",value:'"AM"'},{name:"literal",value:'"PM"'}]},description:"Selected AM/PM value."},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: AmPm) => void",signature:{arguments:[{type:{name:"union",raw:'"AM" | "PM"',elements:[{name:"literal",value:'"AM"'},{name:"literal",value:'"PM"'}]},name:"value"}],return:{name:"void"}}},description:"Callback when new value of AM/PM is selected."},disabled:{required:!1,tsType:{name:"boolean"},description:"Whether the AM/PM selector is disabled."},amLabel:{required:!1,tsType:{name:"string"},description:'Display text for the AM option.\n@default "AM"',defaultValue:{value:'"AM"',computed:!1}},pmLabel:{required:!1,tsType:{name:"string"},description:'Display text for the PM option.\n@default "PM"',defaultValue:{value:'"PM"',computed:!1}},selectorLabel:{required:!1,tsType:{name:"string"},description:'Accessible label for the AM/PM selector group.\n@default "AM/PM selector"',defaultValue:{value:'"AM/PM selector"',computed:!1}},onTabPrev:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Callback when Shift+Tab is pressed to move to previous column."}}};const{classnames:TimePickerScroll_classnames}=nimbus_timePicker_css.Y,TimePickerScroll=({format,disabled,labels,hourOptions,minuteOptions,initialValue,timeValue,setHours,setMinutes,setAmPm})=>{const hoursColumnRef=(0,react.useRef)(null),minutesColumnRef=(0,react.useRef)(null),amPmRef=(0,react.useRef)(null),focusHoursColumn=(0,react.useCallback)((()=>{focusColumnOption(hoursColumnRef)}),[]),focusMinutesColumn=(0,react.useCallback)((()=>{focusColumnOption(minutesColumnRef)}),[]),focusAmPmColumn=(0,react.useCallback)((()=>{focusColumnOption(amPmRef)}),[]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{ref:hoursColumnRef,children:(0,jsx_runtime.jsx)(TimePickerColumn,{type:"hours",options:hourOptions,value:initialValue?.hours,selected:timeValue?.hours,onSelect:setHours,format,label:"12h"===format?labels.hourLabel||"Hour":labels.hoursLabel||"Hours",onTabNext:focusMinutesColumn})}),(0,jsx_runtime.jsx)("div",{className:TimePickerScroll_classnames.divider}),(0,jsx_runtime.jsx)("div",{ref:minutesColumnRef,children:(0,jsx_runtime.jsx)(TimePickerColumn,{type:"minutes",options:minuteOptions,value:initialValue?.minutes,selected:timeValue?.minutes,onSelect:setMinutes,format,label:labels.minutesLabel||"Minutes",onTabNext:"12h"===format?focusAmPmColumn:void 0,onTabPrev:focusHoursColumn})}),"12h"===format&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:TimePickerScroll_classnames.divider}),(0,jsx_runtime.jsx)("div",{ref:amPmRef,children:(0,jsx_runtime.jsx)(TimePickerAmPm,{current:initialValue?.ampm,selected:timeValue?.ampm,onSelect:setAmPm,disabled,amLabel:labels.amLabel||"AM",pmLabel:labels.pmLabel||"PM",selectorLabel:labels.amPmSelectorLabel||"AM/PM selector",onTabPrev:focusMinutesColumn})})]})]})};TimePickerScroll.displayName="TimePickerScroll",TimePickerScroll.__docgenInfo={description:"Internal scroll panel component that displays hour and minute columns\nwith a scroll-wheel interface for time selection.",methods:[],displayName:"TimePickerScroll",props:{format:{required:!0,tsType:{name:"union",raw:'"12h" | "24h"',elements:[{name:"literal",value:'"12h"'},{name:"literal",value:'"24h"'}]},description:""},disabled:{required:!0,tsType:{name:"boolean"},description:""},labels:{required:!0,tsType:{name:"TimePickerLabels"},description:""},ariaLabel:{required:!1,tsType:{name:"string"},description:""},hourOptions:{required:!0,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:""},minuteOptions:{required:!0,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:""},initialValue:{required:!0,tsType:{name:"union",raw:"TimeValue | null",elements:[{name:"TimeValue"},{name:"null"}]},description:""},timeValue:{required:!0,tsType:{name:"union",raw:"Partial<TimeValue> | null",elements:[{name:"Partial",elements:[{name:"TimeValue"}],raw:"Partial<TimeValue>"},{name:"null"}]},description:""},setHours:{required:!0,tsType:{name:"signature",type:"function",raw:"(hours: number) => void",signature:{arguments:[{type:{name:"number"},name:"hours"}],return:{name:"void"}}},description:""},setMinutes:{required:!0,tsType:{name:"signature",type:"function",raw:"(minutes: number) => void",signature:{arguments:[{type:{name:"number"},name:"minutes"}],return:{name:"void"}}},description:""},setAmPm:{required:!0,tsType:{name:"signature",type:"function",raw:"(ampm: AmPm) => void",signature:{arguments:[{type:{name:"union",raw:'"AM" | "PM"',elements:[{name:"literal",value:'"AM"'},{name:"literal",value:'"PM"'}]},name:"ampm"}],return:{name:"void"}}},description:""}}};var useCanScroll=__webpack_require__("./packages/react/src/common/hooks/useCanScroll/useCanScroll.ts");const{classnames:TimePickerDropdown_classnames}=nimbus_timePicker_css.Y,TimePickerDropdown=({format,disabled,labels,ariaLabel,step,dropdownOptions,initialValue,internalTimeValue,selectTime,setAmPm})=>{const scrollContainerRef=(0,react.useRef)(null),{canScrollStart:canScrollTop,canScrollEnd:canScrollBottom,checkScrollPosition}=(0,useCanScroll.f)({direction:"vertical",scrollContainerRef});(0,react.useEffect)((()=>{let resizeObserver=null,containerRef=null;const handleScroll=()=>checkScrollPosition(),frameId=requestAnimationFrame((()=>{const container=scrollContainerRef.current;container&&(containerRef=container,checkScrollPosition(),container.addEventListener("scroll",handleScroll),resizeObserver=new ResizeObserver((()=>{requestAnimationFrame(checkScrollPosition)})),resizeObserver.observe(container))}));return()=>{cancelAnimationFrame(frameId),containerRef&&containerRef.removeEventListener("scroll",handleScroll),resizeObserver?.disconnect()}}),[checkScrollPosition]);const currentTimeValue=(0,react.useMemo)((()=>initialValue?`${padZero(initialValue.hours)}:${padZero(initialValue.minutes)}`:null),[initialValue]),selectedTimeValue=(0,react.useMemo)((()=>internalTimeValue&&void 0!==internalTimeValue.hours&&void 0!==internalTimeValue.minutes?`${padZero(internalTimeValue.hours)}:${padZero(internalTimeValue.minutes)}`:null),[internalTimeValue]),currentAmPm=initialValue?.ampm,selectedAmPm=internalTimeValue?.ampm??currentAmPm??"AM";return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:TimePickerDropdown_classnames.dropdownColumnsWrapper,children:[(0,jsx_runtime.jsx)("div",{className:TimePickerDropdown_classnames.dropdownScrollContainer,ref:scrollContainerRef,children:(0,jsx_runtime.jsx)(TimePickerColumn,{type:"combined",options:dropdownOptions,currentValue:currentTimeValue,selectedValue:selectedTimeValue,onSelectTime:selectTime,format,step,label:ariaLabel,scrollContainerRef})}),canScrollTop&&(0,jsx_runtime.jsx)("div",{className:TimePickerDropdown_classnames.gradientPosition.top}),canScrollBottom&&(0,jsx_runtime.jsx)("div",{className:TimePickerDropdown_classnames.gradientPosition.bottom})]}),"12h"===format&&(0,jsx_runtime.jsx)("div",{className:TimePickerDropdown_classnames.dropdownAmPm,children:(0,jsx_runtime.jsx)(TimePickerAmPm,{current:currentAmPm,selected:selectedAmPm,onSelect:setAmPm,disabled,amLabel:labels.amLabel||"AM",pmLabel:labels.pmLabel||"PM",selectorLabel:labels.amPmSelectorLabel||"AM/PM selector"})})]})};TimePickerDropdown.displayName="TimePickerDropdown",TimePickerDropdown.__docgenInfo={description:"Internal dropdown panel component that displays a scrollable list\nof time options with optional AM/PM toggle.",methods:[],displayName:"TimePickerDropdown",props:{format:{required:!0,tsType:{name:"union",raw:'"12h" | "24h"',elements:[{name:"literal",value:'"12h"'},{name:"literal",value:'"24h"'}]},description:""},disabled:{required:!0,tsType:{name:"boolean"},description:""},labels:{required:!0,tsType:{name:"TimePickerLabels"},description:""},ariaLabel:{required:!1,tsType:{name:"string"},description:""},step:{required:!0,tsType:{name:"number"},description:""},dropdownOptions:{required:!0,tsType:{name:"Array",elements:[{name:"DropdownOption"}],raw:"DropdownOption[]"},description:""},initialValue:{required:!0,tsType:{name:"union",raw:"TimeValue | null",elements:[{name:"TimeValue"},{name:"null"}]},description:""},internalTimeValue:{required:!0,tsType:{name:"union",raw:"Partial<TimeValue> | null",elements:[{name:"Partial",elements:[{name:"TimeValue"}],raw:"Partial<TimeValue>"},{name:"null"}]},description:""},selectTime:{required:!0,tsType:{name:"signature",type:"function",raw:"(hours: number, minutes: number, ampm?: AmPm) => void",signature:{arguments:[{type:{name:"number"},name:"hours"},{type:{name:"number"},name:"minutes"},{type:{name:"union",raw:'"AM" | "PM"',elements:[{name:"literal",value:'"AM"'},{name:"literal",value:'"PM"'}]},name:"ampm"}],return:{name:"void"}}},description:""},setAmPm:{required:!0,tsType:{name:"signature",type:"function",raw:"(ampm: AmPm) => void",signature:{arguments:[{type:{name:"union",raw:'"AM" | "PM"',elements:[{name:"literal",value:'"AM"'},{name:"literal",value:'"PM"'}]},name:"ampm"}],return:{name:"void"}}},description:""}}};const{classnames:TimePicker_classnames}=nimbus_timePicker_css.Y,TimePicker=(0,react.forwardRef)((({value,onChange,mode="scroll",format="24h",step:stepProp,disabled=!1,placeholder="Select time",open:controlledOpen,onOpenChange,"aria-label":ariaLabel,"aria-labelledby":ariaLabelledBy,"aria-describedby":ariaDescribedBy,name,required=!1,id,labels={},...rest},ref)=>{const step=stepProp??("dropdown"===mode?30:1),[uncontrolledOpen,setUncontrolledOpen]=(0,react.useState)(!1),isOpen=controlledOpen??uncontrolledOpen,{initialValue,timeValue,displayValue,setHours,setMinutes,setAmPm,hourOptions,minuteOptions,dropdownOptions,selectTime,clear}=useTimePickerState({value,onChange:"dropdown"===mode?void 0:onChange,format,step}),handleOpenChange=(0,react.useCallback)((newOpen=>{if(void 0===controlledOpen&&setUncontrolledOpen(newOpen),onOpenChange?.(newOpen),"dropdown"===mode){if(!newOpen&&onChange&&(timeValue||initialValue)){const defaultHour="12h"===format?12:0,hours=timeValue?.hours??initialValue?.hours??defaultHour,minutes=timeValue?.minutes??initialValue?.minutes??0,finalAmPm=timeValue?.ampm??initialValue?.ampm??"AM",formattedValue="12h"===format?`${padZero(hours)}:${padZero(minutes)} ${finalAmPm}`:`${padZero(hours)}:${padZero(minutes)}`,date=new Date;if("12h"===format){const hours24=to24Hour(hours,finalAmPm);date.setHours(hours24,minutes,0,0)}else date.setHours(hours,minutes,0,0);onChange(formattedValue,date)}}else{if(onChange&&!newOpen&&(timeValue||initialValue)){const defaultHour="12h"===format?12:0,finalHours=timeValue?.hours??initialValue?.hours??defaultHour,finalMinutes=timeValue?.minutes??initialValue?.minutes??0,finalAmPm=timeValue?.ampm??initialValue?.ampm??"AM",formattedValue="12h"===format?`${padZero(finalHours)}:${padZero(finalMinutes)} ${finalAmPm}`:`${padZero(finalHours)}:${padZero(finalMinutes)}`,date=new Date;if("12h"===format){const hours24=to24Hour(finalHours,finalAmPm);date.setHours(hours24,finalMinutes,0,0)}else date.setHours(finalHours,finalMinutes,0,0);onChange(formattedValue,date)}newOpen||clear()}}),[controlledOpen,onOpenChange,onChange,timeValue,initialValue,format,clear,mode]),{refs,floatingStyles,context}=(0,floating_ui_react.we)({open:isOpen,onOpenChange:handleOpenChange,middleware:[(0,floating_ui_react_dom.cY)(4),(0,floating_ui_react_dom.UU)(),(0,floating_ui_react_dom.BN)({padding:8})],whileElementsMounted:floating_ui_dom.ll,placement:"bottom-start"}),{getReferenceProps,getFloatingProps}=(0,floating_ui_react.bv)([(0,floating_ui_react.kp)(context,{enabled:!disabled}),(0,floating_ui_react.s9)(context)]),handleKeyDown=(0,react.useCallback)((event=>{disabled||(!isOpen&&("Enter"===event.key||" "===event.key)||isOpen&&"Escape"===event.key)&&(event.preventDefault(),handleOpenChange(!isOpen))}),[disabled,isOpen,handleOpenChange]),panelClassName="dropdown"===mode?`${TimePicker_classnames.panel} ${TimePicker_classnames.panelDropdown}`:TimePicker_classnames.panel;return(0,jsx_runtime.jsxs)("div",{ref,...rest,children:[(0,jsx_runtime.jsx)("div",{ref:refs.setReference,...getReferenceProps(),children:(0,jsx_runtime.jsx)(Input.p,{id,name,value:displayValue,placeholder,disabled,readOnly:!0,required,"aria-label":ariaLabel,"aria-labelledby":ariaLabelledBy,"aria-describedby":ariaDescribedBy,"aria-expanded":isOpen,"aria-haspopup":"listbox",role:"combobox",onKeyDown:handleKeyDown,append:(0,jsx_runtime.jsx)(Icon.I,{source:(0,jsx_runtime.jsx)(dist.ClockIcon,{}),color:"currentColor"}),appendPosition:"end",className:TimePicker_classnames.inputCursor[disabled?"disabled":"enabled"]})}),isOpen&&(0,jsx_runtime.jsx)(floating_ui_react.XF,{children:(0,jsx_runtime.jsx)(floating_ui_react.s3,{context,modal:!1,children:(0,jsx_runtime.jsx)("div",{ref:refs.setFloating,className:panelClassName,style:floatingStyles,...getFloatingProps(),children:"scroll"===mode?(0,jsx_runtime.jsx)(TimePickerScroll,{format,disabled,labels,hourOptions,minuteOptions,initialValue,timeValue,setHours,setMinutes,setAmPm}):(0,jsx_runtime.jsx)(TimePickerDropdown,{format,disabled,labels,ariaLabel,step,dropdownOptions,initialValue,internalTimeValue:timeValue,selectTime,setAmPm})})})})]})}));TimePicker.displayName="TimePicker",TimePicker.__docgenInfo={description:'TimePicker allows users to select a time value using either a scroll-based\nwheel picker (default) or a dropdown list of time options.\n\n@example\n// Basic 24h scroll picker with 15-minute intervals\n<TimePicker value="14:30" onChange={(value) => console.log(value)} step={15} />\n\n@example\n// 12h format scroll picker\n<TimePicker format="12h" step={30} />\n\n@example\n// Dropdown mode\n<TimePicker mode="dropdown" value="14:30" onChange={(value) => console.log(value)} step={30} />',methods:[],displayName:"TimePicker",props:{mode:{defaultValue:{value:'"scroll"',computed:!1},required:!1},format:{defaultValue:{value:'"24h"',computed:!1},required:!1},disabled:{defaultValue:{value:"false",computed:!1},required:!1},placeholder:{defaultValue:{value:'"Select time"',computed:!1},required:!1},required:{defaultValue:{value:"false",computed:!1},required:!1},labels:{defaultValue:{value:"{}",computed:!1},required:!1}}};const timePicker_stories={title:"Composite/TimePicker",component:TimePicker,argTypes:{value:{control:"text"},mode:{control:"radio",options:["scroll","dropdown"]},format:{control:"radio",options:["12h","24h"]},step:{control:"number"},disabled:{control:"boolean"},placeholder:{control:"text"},labels:{control:"object",description:"Translatable labels for localization"}},tags:["autodocs"],render:({value,...rest})=>{const[time,setTime]=(0,react.useState)(value);return(0,jsx_runtime.jsxs)(Box.a,{display:"flex",flexDirection:"column",gap:"2",children:[(0,jsx_runtime.jsx)(TimePicker,{...rest,value:time,onChange:value=>setTime(value)}),(0,jsx_runtime.jsxs)(Text.E,{fontSize:"caption",color:"neutral-textLow",children:["Selected: ",time||"None"]})]})}},basic={args:{placeholder:"Select time"}},withValue={args:{value:"14:30",format:"24h"}},withDateValue={render:()=>{const[time,setTime]=(0,react.useState)(new Date);return(0,jsx_runtime.jsx)(Box.a,{display:"flex",flexDirection:"column",gap:"2",children:(0,jsx_runtime.jsx)(TimePicker,{value:time,onChange:(_,date)=>setTime(date)})})}},format12h={render:()=>{const[time,setTime]=(0,react.useState)();return(0,jsx_runtime.jsxs)(Box.a,{display:"flex",flexDirection:"column",gap:"2",children:[(0,jsx_runtime.jsx)(TimePicker,{value:time,onChange:value=>setTime(value),format:"12h",placeholder:"Select time (12h)"}),(0,jsx_runtime.jsxs)(Text.E,{fontSize:"caption",color:"neutral-textLow",children:["Selected: ",time||"None"]})]})}},dropdownMode={render:()=>{const[time,setTime]=(0,react.useState)("14:30");return(0,jsx_runtime.jsxs)(Box.a,{display:"flex",flexDirection:"column",gap:"2",children:[(0,jsx_runtime.jsx)(TimePicker,{mode:"dropdown",value:time,onChange:value=>setTime(value),step:30,placeholder:"Select time (dropdown)"}),(0,jsx_runtime.jsxs)(Text.E,{fontSize:"caption",color:"neutral-textLow",children:["Selected: ",time||"None"]})]})}},dropdownMode12h={render:()=>{const[time,setTime]=(0,react.useState)("02:30 AM");return(0,jsx_runtime.jsxs)(Box.a,{display:"flex",flexDirection:"column",gap:"2",children:[(0,jsx_runtime.jsx)(TimePicker,{mode:"dropdown",value:time,onChange:value=>setTime(value),format:"12h",step:30,placeholder:"Select time"}),(0,jsx_runtime.jsxs)(Text.E,{fontSize:"caption",color:"neutral-textLow",children:["Selected: ",time||"None"]})]})}},customStep={render:()=>{const[time,setTime]=(0,react.useState)(null);return(0,jsx_runtime.jsxs)(Box.a,{display:"flex",flexDirection:"column",gap:"2",children:[(0,jsx_runtime.jsx)(TimePicker,{value:time,onChange:value=>setTime(value),step:15,placeholder:"15-minute intervals"}),(0,jsx_runtime.jsx)(Text.E,{fontSize:"caption",color:"neutral-textLow",children:"Step: 15 minutes"})]})}},customStepDropdown={render:()=>{const[time,setTime]=(0,react.useState)(null);return(0,jsx_runtime.jsxs)(Box.a,{display:"flex",flexDirection:"column",gap:"2",children:[(0,jsx_runtime.jsx)(TimePicker,{mode:"dropdown",value:time,onChange:value=>setTime(value),step:15,placeholder:"15-minute intervals"}),(0,jsx_runtime.jsx)(Text.E,{fontSize:"caption",color:"neutral-textLow",children:"Step: 15 minutes (dropdown mode)"})]})}},disabled={args:{value:"10:00",disabled:!0,placeholder:"Disabled picker"}},controlled={render:()=>{const[time,setTime]=(0,react.useState)("14:30"),[open,setOpen]=(0,react.useState)(!1);return(0,jsx_runtime.jsxs)(Box.a,{display:"flex",flexDirection:"column",gap:"4",children:[(0,jsx_runtime.jsx)(TimePicker,{value:time,onChange:value=>setTime(value),open,onOpenChange:setOpen,placeholder:"Controlled picker"}),(0,jsx_runtime.jsxs)(Box.a,{display:"flex",gap:"2",alignItems:"center",children:[(0,jsx_runtime.jsxs)(Text.E,{fontSize:"caption",children:["Value: ",(0,jsx_runtime.jsx)("strong",{children:time||"None"})]}),(0,jsx_runtime.jsxs)(Text.E,{fontSize:"caption",children:["Open: ",(0,jsx_runtime.jsx)("strong",{children:open?"Yes":"No"})]})]})]})}},playground={render:args=>{const[time,setTime]=(0,react.useState)(args.value);return(0,jsx_runtime.jsxs)(Box.a,{display:"flex",flexDirection:"column",gap:"4",children:[(0,jsx_runtime.jsx)(TimePicker,{...args,value:time,onChange:(value,date)=>{setTime(value),console.log("Time changed:",value,date)}}),(0,jsx_runtime.jsx)(Box.a,{padding:"2",backgroundColor:"neutral-surface",borderRadius:"2",children:(0,jsx_runtime.jsxs)(Text.E,{fontSize:"caption",color:"neutral-textLow",children:["Selected value: ",(0,jsx_runtime.jsx)("strong",{children:time||"None"})]})})]})},args:{value:"10:30",format:"24h",step:1,disabled:!1,placeholder:"Select time"}},__namedExportsOrder=["basic","withValue","withDateValue","format12h","dropdownMode","dropdownMode12h","customStep","customStepDropdown","disabled","controlled","playground"];basic.parameters={...basic.parameters,docs:{...basic.parameters?.docs,source:{originalSource:'{\n  args: {\n    placeholder: "Select time"\n  }\n}',...basic.parameters?.docs?.source}}},withValue.parameters={...withValue.parameters,docs:{...withValue.parameters?.docs,source:{originalSource:'{\n  args: {\n    value: "14:30",\n    format: "24h"\n  }\n}',...withValue.parameters?.docs?.source}}},withDateValue.parameters={...withDateValue.parameters,docs:{...withDateValue.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const [time, setTime] = useState<Date | null>(new Date());\n    return <Box display="flex" flexDirection="column" gap="2">\n        <TimePicker value={time} onChange={(_, date) => setTime(date)} />\n      </Box>;\n  }\n}',...withDateValue.parameters?.docs?.source}}},format12h.parameters={...format12h.parameters,docs:{...format12h.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const [time, setTime] = useState<string | null>();\n    return <Box display="flex" flexDirection="column" gap="2">\n        <TimePicker value={time} onChange={value => setTime(value)} format="12h" placeholder="Select time (12h)" />\n        <Text fontSize="caption" color="neutral-textLow">\n          Selected: {time || "None"}\n        </Text>\n      </Box>;\n  }\n}',...format12h.parameters?.docs?.source}}},dropdownMode.parameters={...dropdownMode.parameters,docs:{...dropdownMode.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const [time, setTime] = useState<string | null>("14:30");\n    return <Box display="flex" flexDirection="column" gap="2">\n        <TimePicker mode="dropdown" value={time} onChange={value => setTime(value)} step={30} placeholder="Select time (dropdown)" />\n        <Text fontSize="caption" color="neutral-textLow">\n          Selected: {time || "None"}\n        </Text>\n      </Box>;\n  }\n}',...dropdownMode.parameters?.docs?.source}}},dropdownMode12h.parameters={...dropdownMode12h.parameters,docs:{...dropdownMode12h.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const [time, setTime] = useState<string | null>("02:30 AM");\n    return <Box display="flex" flexDirection="column" gap="2">\n        <TimePicker mode="dropdown" value={time} onChange={value => setTime(value)} format="12h" step={30} placeholder="Select time" />\n        <Text fontSize="caption" color="neutral-textLow">\n          Selected: {time || "None"}\n        </Text>\n      </Box>;\n  }\n}',...dropdownMode12h.parameters?.docs?.source}}},customStep.parameters={...customStep.parameters,docs:{...customStep.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const [time, setTime] = useState<string | null>(null);\n    return <Box display="flex" flexDirection="column" gap="2">\n        <TimePicker value={time} onChange={value => setTime(value)} step={15} placeholder="15-minute intervals" />\n        <Text fontSize="caption" color="neutral-textLow">\n          Step: 15 minutes\n        </Text>\n      </Box>;\n  }\n}',...customStep.parameters?.docs?.source}}},customStepDropdown.parameters={...customStepDropdown.parameters,docs:{...customStepDropdown.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const [time, setTime] = useState<string | null>(null);\n    return <Box display="flex" flexDirection="column" gap="2">\n        <TimePicker mode="dropdown" value={time} onChange={value => setTime(value)} step={15} placeholder="15-minute intervals" />\n        <Text fontSize="caption" color="neutral-textLow">\n          Step: 15 minutes (dropdown mode)\n        </Text>\n      </Box>;\n  }\n}',...customStepDropdown.parameters?.docs?.source}}},disabled.parameters={...disabled.parameters,docs:{...disabled.parameters?.docs,source:{originalSource:'{\n  args: {\n    value: "10:00",\n    disabled: true,\n    placeholder: "Disabled picker"\n  }\n}',...disabled.parameters?.docs?.source}}},controlled.parameters={...controlled.parameters,docs:{...controlled.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const [time, setTime] = useState<string | null>("14:30");\n    const [open, setOpen] = useState(false);\n    return <Box display="flex" flexDirection="column" gap="4">\n        <TimePicker value={time} onChange={value => setTime(value)} open={open} onOpenChange={setOpen} placeholder="Controlled picker" />\n        <Box display="flex" gap="2" alignItems="center">\n          <Text fontSize="caption">\n            Value: <strong>{time || "None"}</strong>\n          </Text>\n          <Text fontSize="caption">\n            Open: <strong>{open ? "Yes" : "No"}</strong>\n          </Text>\n        </Box>\n      </Box>;\n  }\n}',...controlled.parameters?.docs?.source}}},playground.parameters={...playground.parameters,docs:{...playground.parameters?.docs,source:{originalSource:'{\n  render: args => {\n    const [time, setTime] = useState<string | null>(args.value as string | null);\n    return <Box display="flex" flexDirection="column" gap="4">\n        <TimePicker {...args} value={time} onChange={(value, date) => {\n        setTime(value);\n        console.log("Time changed:", value, date);\n      }} />\n        <Box padding="2" backgroundColor="neutral-surface" borderRadius="2">\n          <Text fontSize="caption" color="neutral-textLow">\n            Selected value: <strong>{time || "None"}</strong>\n          </Text>\n        </Box>\n      </Box>;\n  },\n  args: {\n    value: "10:30",\n    format: "24h",\n    step: 1,\n    disabled: false,\n    placeholder: "Select time"\n  }\n}',...playground.parameters?.docs?.source}}}}}]);